# 6.5.4: Azure App Service Health Check Configuration

**Status:** BACKLOG
**Type:** Story
**Feature:** [6.5 Health Checks & Observability](./6.5-health-observability.md)

## Goal

Configure Azure App Service health check settings in infrastructure-as-code (Bicep/ARM) so App Service monitors instance health and replaces unhealthy instances.

## Acceptance Criteria

- [ ] Bicep template sets `siteConfig.healthCheckPath` to `/health` for both App Services
- [ ] Health check probe interval documented (every 60s by default)
- [ ] Unhealthy instance replacement behavior documented (10 failed checks → unhealthy, 1 hour → replaced)
- [ ] Deployment runbook updated with health check verification steps
- [ ] Monitoring dashboard shows health check status per instance

## Notes

Azure App Service health check behavior:
- Pings the configured path every 60 seconds
- Instance marked unhealthy after 10 consecutive failures
- Unhealthy instances removed from load balancer rotation
- After 1 hour of remaining unhealthy, the instance is replaced
- Status codes 200–299 are considered healthy

## References

- [Monitor App Service instances using health check — Microsoft Learn](https://learn.microsoft.com/en-us/azure/app-service/monitor-instances-health-check)
- [Health monitoring in ASP.NET Core — Microsoft Learn](https://learn.microsoft.com/en-us/aspnet/core/host-and-deploy/health-checks)

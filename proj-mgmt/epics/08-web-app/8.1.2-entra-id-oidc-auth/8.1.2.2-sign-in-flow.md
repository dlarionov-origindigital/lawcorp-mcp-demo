# 8.1.2.2: Sign-In Redirect Flow

**Status:** DONE
**Type:** Task
**Story:** [8.1.2: Entra ID OIDC Sign-In](./8.1.2-entra-id-oidc-auth.md)

## Description

Implement the user-initiated sign-in flow: user clicks "Sign in" in the header → redirect to Entra ID → authenticate → redirect back to the app with a session cookie.

## Implementation

- `LoginDisplay.razor` renders a "Sign in" button when the user is not authenticated
- The button links to `/MicrosoftIdentity/Account/SignIn` (provided by `Microsoft.Identity.Web.UI`)
- The OIDC middleware handles the redirect to `login.microsoftonline.com`
- After successful authentication, Entra ID redirects to `/signin-oidc` (the `CallbackPath`)
- `Microsoft.Identity.Web` validates the token, establishes a cookie session, and redirects to the app root
- The sign-in is **user-initiated** (not forced) — unauthenticated users can still browse the app

## Key Files

- `src/LawCorp.Mcp.Web/Components/Layout/LoginDisplay.razor`
- `src/LawCorp.Mcp.Web/Program.cs`

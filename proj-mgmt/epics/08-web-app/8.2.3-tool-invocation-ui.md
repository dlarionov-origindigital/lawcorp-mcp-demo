# 8.2.3: Tool discovery and invocation UI

**Status:** BACKLOG
**Type:** Story
**Feature:** [8.2: MCP Client Integration](./8.2-mcp-client-integration.md)
**Tags:** `+web-app` `+mcp-client` `+ui`

---

As a Law-Corp user,
I want to browse available MCP tools, select one, fill in its parameters, and see the results,
So that I can use the MCP server's capabilities through a graphical interface.

## Implementation Steps

- [ ] Create a `Tools.razor` page at `/tools`
- [ ] On page load, call `IMcpClientService.ListToolsAsync()` and display tools in a searchable/filterable list (Fluent UI `FluentDataGrid` or card layout)
- [ ] Each tool card shows: name, description, parameter schema
- [ ] Clicking a tool opens a detail panel with a dynamically generated form:
  - Render input fields based on the tool's JSON Schema `inputSchema` (string → text field, number → number field, boolean → checkbox, enum → dropdown)
  - Required fields are marked and validated
- [ ] "Invoke" button calls `IMcpClientService.CallToolAsync(toolName, arguments)`
- [ ] Display the result in a formatted panel:
  - Text content rendered as markdown or monospace
  - JSON content rendered with syntax highlighting
  - Errors displayed with the MCP error code and message
- [ ] Show a loading indicator while the tool call is in progress
- [ ] History panel: list of recent tool invocations in the current session (tool name, timestamp, success/failure)

## Acceptance Criteria

- [ ] All tools returned by the MCP server appear in the tool list
- [ ] The parameter form adapts to each tool's input schema
- [ ] A successful tool invocation shows the result
- [ ] A failed tool invocation shows a clear error (not an unhandled exception)
- [ ] The UI works for all existing tools (cases_search, cases_get, etc.)

## Notes

This page is the primary surface that Playwright E2E tests (8.5) will drive.

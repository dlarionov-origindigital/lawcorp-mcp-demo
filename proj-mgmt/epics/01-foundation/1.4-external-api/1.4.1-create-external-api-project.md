# 1.4.1: Create `LawCorp.Mcp.ExternalApi` project with JWT Bearer auth

**Status:** BACKLOG
**Type:** Story
**Feature:** [1.4: External Downstream API Service](./1.4-external-api.md)
**Tags:** `+auth`, `+architecture`

---

As a developer setting up the reference architecture,
I want an independent downstream API project in the solution,
So that the MCP server can demonstrate multi-hop OBO to a custom API we control.

- [ ] Create `LawCorp.Mcp.ExternalApi` ASP.NET Core Web API project in the solution
- [ ] Configure JWT Bearer authentication via `Microsoft.Identity.Web` — validates OBO tokens from the MCP server
- [ ] Add project reference to `LawCorp.Mcp.Data` (shares the database for demo purposes)
- [ ] Configure Kestrel to listen on port 5002
- [ ] Add `appsettings.json` with empty placeholders (tracked) and `appsettings.Development.json.example` (tracked) pattern
- [ ] Add health check endpoint (`/health`) for dev tooling

## Acceptance Criteria

- [ ] Project builds and runs independently (`dotnet run --project src/LawCorp.Mcp.ExternalApi`)
- [ ] JWT Bearer middleware validates tokens with the external API's `AzureAd:ClientId` and `Audience`
- [ ] Invalid/expired tokens return 401
- [ ] Project follows the same `appsettings.json` / `.Development.json.example` / `.Development.json` (gitignored) pattern as the MCP server

## Notes

The external API is a standard ASP.NET Core Web API — not an MCP server. It uses controllers, not MCP tool handlers.
In production, this would be a separate solution with its own database. For this reference architecture, it shares `LawCorp.Mcp.Data` to keep the demo focused on auth patterns.

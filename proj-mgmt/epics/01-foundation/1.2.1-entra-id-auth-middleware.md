# 1.2.1: Implement Entra ID authentication middleware

**Status:** BACKLOG
**Type:** Story
**Feature:** [1.2: Authentication â€” Microsoft Entra ID](./1.2-authentication.md)
**Tags:** `+auth`

---

As a [Law-Corp attorney using an AI assistant],
I want [my Entra ID identity to be validated on every request],
So that [only authenticated users can access MCP tools and resources].

- [ ] Configure Microsoft Identity Web for token validation
- [ ] Set up JWT Bearer authentication scheme
- [ ] Map Entra ID claims to application identity (roles, groups, user ID)
- [ ] Configure token validation parameters (audience, issuer, signing keys)

## Acceptance Criteria

- [ ] Valid Entra ID tokens are accepted
- [ ] Invalid/expired tokens return 401
- [ ] Claims are available in HttpContext for downstream use

## Notes

Depends on 1.1.2 (MCP skeleton) being complete.

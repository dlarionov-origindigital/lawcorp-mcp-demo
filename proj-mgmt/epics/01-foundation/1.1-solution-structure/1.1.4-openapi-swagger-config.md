# 1.1.4: OpenAPI / Swagger Configuration

**Status:** IN PROGRESS
**Type:** Task
**Feature:** [1.1 Solution & Project Structure](./1.1-solution-structure.md)

## Goal

Add OpenAPI spec generation and an interactive Swagger UI to both the MCP Server and External API so developers can explore and test endpoints during local development without external tooling.

## Acceptance Criteria

### Phase 1 — OpenAPI spec (DONE)

- [x] `Microsoft.AspNetCore.OpenApi` 9.x added to both projects
- [x] OpenAPI endpoint registered in Development environment only
- [x] MCP Server exposes `/openapi/v1.json`
- [x] External API exposes `/openapi/v1.json`
- [x] Documentation updated in `docs/local-dev.md` with OpenAPI URLs

### Phase 2 — Interactive Swagger UI ([ADR-009](../../../decisions/009-swagger-ui-local-dev.md))

- [ ] `Scalar.AspNetCore` added to both MCP Server and External API projects
- [ ] Scalar UI mapped at `/scalar/v1` in non-Production environments (`!IsProduction()`)
- [ ] OpenAPI spec + Scalar UI available in Development, QA, and UAT environments
- [ ] OpenAPI spec + Scalar UI **not** served in Production
- [ ] `launchSettings.json` updated with `launchBrowser: true` and `launchUrl` pointing to Scalar for MCP Server `http` profile
- [ ] `launchSettings.json` updated with `launchBrowser: true` and `launchUrl` pointing to Scalar for External API `http` profile
- [ ] `docs/local-dev.md` updated with Scalar UI URLs and auto-open behavior

## Notes

- .NET 9 uses `AddOpenApi()` / `MapOpenApi()` (not Swashbuckle)
- Scalar.AspNetCore consumes the spec from `MapOpenApi()` — no duplicate generation
- Environment gating uses `!Environment.IsProduction()` so dev/QA/UAT all get the UI

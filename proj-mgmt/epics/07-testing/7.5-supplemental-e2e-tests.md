# 7.5: Supplemental E2E Tests

**Status:** BACKLOG
**Epic:** [Epic 7: End-to-End Testing](./_epic.md)
**Goal:** Cover the non-tool test surface: health checks, transport configuration validation, and any other HTTP endpoints added to the Web API that are not MCP tools.

## Items

| ID | Title | Type | Status |
|---|---|---|---|
| [7.5.1](./7.5.1-health-check-tests.md) | Health check endpoint tests | Task | BACKLOG |
| [7.5.2](./7.5.2-transport-config-tests.md) | Transport configuration smoke tests | Task | BACKLOG |
| [7.5.3](./7.5.3-manual-e2e-auth-verification.md) | Manual E2E auth verification | Story | BACKLOG |

## Acceptance Criteria

- [ ] `/health` endpoint returns 200 with healthy status when DB connection is available
- [ ] `/health` endpoint returns degraded/unhealthy when DB is unavailable
- [ ] Server started in `http` mode responds on the expected base URL; tool endpoints are reachable
- [ ] Server started in `stdio` mode does not bind Kestrel (validate via process output or absence of port binding log)
- [ ] Unauthenticated requests to protected endpoints return 401, not 500
- [ ] Two personas with different roles produce different tool results through the same MCP endpoint (manual verification)

## Dependencies

Depends on: 7.1 (test infrastructure), 1.1.2 (server host and transport configuration)
Does not depend on Epic 3 tools â€” can be implemented in parallel with tool development.

# 7.3.3: Field redaction tests

**Status:** BACKLOG
**Type:** Story
**Feature:** [7.3: Authorization Scenario Tests](./7.3-authorization-tests.md)
**Tags:** `+testing` `+auth`

---

As a QA engineer,
I want tests that confirm privileged fields are redacted in responses for restricted personas,
So that an Intern cannot read sensitive document content or privileged case notes even when they can access the record.

## Acceptance Criteria

- [ ] `VinnyGambini` calling `documents_get` for the privileged document (ID 4001 on Case Alpha) receives the document record but with `Content` redacted (null or a sentinel like `"[REDACTED]"`)
- [ ] `HarveySpecter` calling `documents_get` for the same document receives the full `Content`
- [ ] `KimWexler` (Associate) calling `documents_get` for the same document receives the full `Content` (associates on assigned cases have full doc access per PRD)
- [ ] `VinnyGambini` calling `cases_get` for Case Alpha does not receive any `IsPrivileged=true` note content in `case notes` if case notes are added
- [ ] Redaction is applied by the response mapping layer (story 1.3.3), not by omitting records from the query result
- [ ] The redaction behavior is consistent regardless of whether the request goes through the MCP tool endpoint or a future direct REST endpoint

## Notes

Redaction logic lives in story 1.3.3 (field-level redaction). These tests validate the end-to-end outcome: the field is absent or masked in the actual HTTP response body, not merely that the redaction service was called.

Define and document the redaction sentinel value in 1.3.3 so these tests know what to assert against.

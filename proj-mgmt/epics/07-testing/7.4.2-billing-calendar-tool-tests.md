# 7.4.2: Billing & calendar tool tests

**Status:** BACKLOG
**Type:** Story
**Feature:** [7.4: Tool E2E Tests](./7.4-tool-e2e-tests.md)
**Tags:** `+testing` `+billing` `+calendar`

---

As a QA engineer,
I want E2E tests for the billing and calendar tools,
So that time-entry and scheduling operations are validated across roles.

## Tools Covered

`time_entries_log`, `time_entries_search`, `billing_get_summary`, `invoices_search`, `invoices_get`, `calendar_get_hearings`, `calendar_get_deadlines`, `calendar_add_event`, `calendar_get_conflicts`

## Acceptance Criteria

- [ ] `time_entries_log` as `HarveySpecter` for Case Alpha succeeds
- [ ] `time_entries_log` as `ErinBrockovich` returns authorization error (Paralegal has no billing access)
- [ ] `time_entries_search` as `KimWexler` returns only her own time entries; does not return Harvey's entries
- [ ] `billing_get_summary` as `HarveySpecter` for Case Alpha returns total; as `KimWexler` returns authorization error
- [ ] `invoices_get` for Invoice 5001 as `HarveySpecter` returns invoice details; as `ErinBrockovich` returns authorization error
- [ ] `calendar_get_hearings` as `KimWexler` returns hearings for Case Alpha (assigned case)
- [ ] `calendar_get_deadlines` as `VinnyGambini` returns only Vinny's own schedule events
- [ ] `calendar_add_event` as `HarveySpecter` on Case Alpha succeeds
- [ ] `calendar_add_event` as `VinnyGambini` returns authorization error (Intern: own schedule only)
- [ ] `calendar_get_conflicts` as `HarveySpecter` works; as `ErinBrockovich` returns authorization error (Paralegal: assigned case events only, not conflict checking)

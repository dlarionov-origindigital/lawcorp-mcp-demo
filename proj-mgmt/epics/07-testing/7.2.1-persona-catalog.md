# 7.2.1: Persona catalog

**Status:** BACKLOG
**Type:** Task
**Feature:** [7.2: Persona Fixture](./7.2-persona-fixture.md)
**Tags:** `+testing` `+auth`

---

Define the six canonical test personas as a typed catalog — stable IDs, role assignments, and practice group memberships — that serves as the single source of truth referenced by both `FakeIdentityContext` (7.1.2) and `PersonaFixtureSeeder` (7.2.2).

## Implementation Steps

- [ ] Create `LawCorp.Mcp.Tests/Personas/FirmPersona.cs` — an enum with one value per persona
- [ ] Create `LawCorp.Mcp.Tests/Personas/PersonaCatalog.cs` — a static class with one `PersonaProfile` record per persona
- [ ] `PersonaProfile` contains: `Id` (int, stable), `FirstName`, `LastName`, `Email`, `Role` (AttorneyRole or staff role), `PracticeGroupId` (stable int), `AssignedAttorneyId?` (for LegalAssistant/Intern)

### Persona definitions

| Persona | ID | Role | Practice Group | Notes |
|---|---|---|---|---|
| Harvey Specter | 1001 | Partner | M&A (PG-1) | Lead on Case Alpha + Beta |
| Kim Wexler | 1002 | Associate | Corporate Governance (PG-2) | Supporting on Case Alpha only |
| Alan Shore | 1003 | OfCounsel | Securities & Compliance (PG-3) | Read-only on Case Gamma |
| Erin Brockovich | 1004 | Paralegal | M&A (PG-1) | Assigned to Case Alpha |
| Elle Woods | 1005 | LegalAssistant | M&A (PG-1) | Assigned attorney = Harvey Specter (1001) |
| Vinny Gambini | 1006 | Intern | M&A (PG-1) | Assigned to Case Alpha; supervisor = Harvey Specter (1001) |

IDs are in the 1000-range to avoid collision with the full mock data seeder's auto-generated IDs.

- [ ] IDs 1001–1006 and practice group IDs (PG-1 = 101, PG-2 = 102, PG-3 = 103) must be reserved and not generated by `MockDataSeeder` (add a constant or seed-range guard in the seeder)

### Expected Graph scopes by persona

Each persona's `PersonaProfile` should include an `ExpectedGraphScopes` property documenting which Microsoft Graph scopes are expected to be available when that persona's identity is passed through via OBO ([ADR-005](../../decisions/005-oauth-identity-passthrough.md)). This enables identity passthrough tests ([7.3.4](../07-testing/7.3.4-identity-passthrough-tests.md)) to configure the mock Graph endpoint with persona-appropriate responses.

| Persona | Calendar | SharePoint | Mail | Notes |
|---|---|---|---|---|
| Harvey Specter | R/W own | M&A team site | R/W own | Full Graph access for Partner |
| Kim Wexler | R/W own | Assigned case sites | R/W own | Standard associate scopes |
| Alan Shore | R/W own | Securities team site | R/W own | Scoped to own practice group |
| Erin Brockovich | R assigned case events | Assigned case sites | R own (no send) | Limited scopes for Paralegal |
| Elle Woods | R Harvey's + own | Harvey's case sites | R/W own | Delegated calendar access |
| Vinny Gambini | R own only | No access | R own | Minimal scopes for Intern |

## Acceptance Criteria

- [ ] `PersonaCatalog.All` returns exactly six profiles
- [ ] Each profile has a unique ID in the 1001–1006 range
- [ ] Practice group IDs referenced by personas exist in the fixture dataset
- [ ] `FirmPersona` enum values map 1:1 to `PersonaProfile` entries in `PersonaCatalog`
- [ ] Each profile includes `ExpectedGraphScopes` for identity passthrough test configuration

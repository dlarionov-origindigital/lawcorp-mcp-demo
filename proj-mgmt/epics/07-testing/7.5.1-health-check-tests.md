# 7.5.1: Health check endpoint tests

**Status:** BACKLOG
**Type:** Task
**Feature:** [7.5: Supplemental E2E Tests](./7.5-supplemental-e2e-tests.md)
**Tags:** `+testing` `+infrastructure`

---

Verify that the `/health` endpoint (added as part of the ASP.NET Core migration in 1.1.2 or 6.4.1) returns correct health status under normal and degraded conditions.

## Implementation Steps

- [ ] GET `/health` with a healthy DB connection → assert HTTP 200, body contains `"status": "Healthy"`
- [ ] GET `/health` with DB connection string pointing to a non-existent server (simulate failure via `LawCorpWebApplicationFactory` override) → assert HTTP 503, body contains `"status": "Unhealthy"`
- [ ] GET `/health` without authentication → assert 200 (health checks should be publicly accessible for load balancer probes)
- [ ] GET `/health/ready` (if a readiness probe is added) → assert it includes the DB health check

## Acceptance Criteria

- [ ] All three test cases pass
- [ ] Health response body is parseable as the standard ASP.NET Core health check JSON format
